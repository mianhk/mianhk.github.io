<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="Hexo折腾笔记"/><meta name="keywords" content="博客, Hexo, mianhk" /><link rel="alternate" href="/atom.xml" title="mianhk"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://www.yuguocong.cn/2019/08/13/yuque/Hexo折腾笔记/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" /><script type="text/x-mathjax-config">
    MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":true};
</script>

    <title>Hexo折腾笔记 - mianhk</title>
  <meta name="generator" content="Hexo 4.2.1"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">mianhk</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">mianhk</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/categories/">
            Categories
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">Hexo折腾笔记
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-08-13
        </span><span class="post-category">
            <a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a>
            </span>
        </div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#博客基本架构"><span class="toc-text">博客基本架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对应工具"><span class="toc-text">对应工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2019-5-12"><span class="toc-text">2019-5-12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2018-12-24"><span class="toc-text">2018-12-24</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hexo-添加分类"><span class="toc-text">Hexo 添加分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加背景图片"><span class="toc-text">添加背景图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-hexo-neat-进行压缩以增加页面速度"><span class="toc-text">使用 hexo-neat 进行压缩以增加页面速度</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#主页文章添加阴影效果"><span class="toc-text">主页文章添加阴影效果</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#在网站底部加上访问量"><span class="toc-text">在网站底部加上访问量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#添加热度"><span class="toc-text">添加热度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#网站底部字数统计"><span class="toc-text">网站底部字数统计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改-代码块自定义样式"><span class="toc-text">修改&#96;&#96;代码块自定义样式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#添加访问量"><span class="toc-text">添加访问量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置博文内链接为蓝色"><span class="toc-text">设置博文内链接为蓝色</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置文章末尾-本文结束-标记"><span class="toc-text">设置文章末尾”本文结束”标记</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#显示每篇文章字数"><span class="toc-text">显示每篇文章字数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#文章末尾添加版权说明"><span class="toc-text">文章末尾添加版权说明</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#实现-fork-me-on-github"><span class="toc-text">实现 fork me on github</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改文章底部的-号标签"><span class="toc-text">修改文章底部的#号标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#添加搜索功能"><span class="toc-text">添加搜索功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#图床修改"><span class="toc-text">图床修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#next-主题个性化之自动更换背景图片"><span class="toc-text">Next 主题个性化之自动更换背景图片</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改主题：yilia-已取消"><span class="toc-text">修改主题：yilia（已取消）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2018-4-22-加入畅言评论-已取消"><span class="toc-text">2018-4-22 加入畅言评论（已取消）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2018-4-10-加入豆瓣读书和电影"><span class="toc-text">2018-4-10 加入豆瓣读书和电影</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#页面中文无法显示的问题"><span class="toc-text">页面中文无法显示的问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#主界面无法显示-categories-和-tags-的问题"><span class="toc-text">主界面无法显示 categories 和 tags 的问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#绑定-gitpages-到自己的域名"><span class="toc-text">绑定 gitpages 到自己的域名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#采用-coding-和-gitpages-双部署"><span class="toc-text">采用 coding 和 gitpages 双部署</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </div><div class="post-content"><h2 id="博客基本架构">博客基本架构</h2>
<p>如下图所示，博客更新只需要在语雀上发布对应的文章即可，剩下的工作都会自动化进行。</p>
<h2 id="对应工具">对应工具</h2>
<p>语雀：编写博客
腾讯云云函数: webhook 解析更新文档推送至 github 私有仓库
travis-ci：当私有仓库有更新时，通过 hexo 生成静态页面，并推送至 mianhk.github.io 仓库
cloud-flare：网页 CDN</p>
<h2 id="2019-5-12">2019-5-12</h2>
<blockquote>
<p>没错，这几天又开始折腾一下博客了，最近的节奏天天白天待在实验室怼论文，晚上看 C++，时间安排比较紧凑，就觉得更需要阶段性的总结吧，所以又来写博客了，github 始终是一个好的选择，于是入了 Hexo 的坑。。折腾的过程心情总是有些复杂，在激动和 mmp 之间徘徊，虽然很多问题在 wiki 和 issue 里都有，但还是想总结一下自己亲自踩的坑。</p>
</blockquote>
<p>修改语雀自动同步，不用再本地编辑和推送了，见：
<a href="https://www.yuguocong.cn/yuque/mwklk2.html">https://www.yuguocong.cn/yuque/mwklk2.html</a></p>
<p>更换了主题：<a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">Aircloud</a></p>
<h2 id="2018-12-24">2018-12-24</h2>
<h3 id="hexo-添加分类">Hexo 添加分类</h3>
<p>在文件中使用<code>categories</code>，然后配置<code>themes/_config.yml</code>文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: &#x2F;</span><br><span class="line">  #categories: &#x2F;categories&#x2F;</span><br><span class="line">  archives: &#x2F;archives&#x2F;</span><br><span class="line">  tags: &#x2F;tags&#x2F;</span><br><span class="line">  books: &#x2F;books</span><br><span class="line">  movies: &#x2F;movies</span><br><span class="line">  friends: &#x2F;categories&#x2F;friends</span><br><span class="line">  about: &#x2F;categories&#x2F;about</span><br></pre></td></tr></table></figure>
<h3 id="添加背景图片">添加背景图片</h3>
<p>使用插件 jquery-backstretch，编辑文件<code>/themes/next/layout/_layout.swig</code>,将下面的代码添加到最后面 body 的前面:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;jquery-backstretch&#x2F;2.0.4&#x2F;jquery.backstretch.min.js&quot;&gt;&lt;&#x2F;script&gt;;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  $(&quot;body&quot;).backstretch(&quot;http:&#x2F;&#x2F;blog-1252063226.cosbj.myqcloud.com&#x2F;network&#x2F;20181224194730.png&quot;);</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>
<p>但是好像没有效果，于是在文件<code>themes\next\source\css_custom\custom.styl</code>中添加了如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    background:url(https:&#x2F;&#x2F;source.unsplash.com&#x2F;random&#x2F;1600x900);</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    background-attachment:fixed;</span><br><span class="line">    background-position:50% 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;修改背景的不透明度</span><br><span class="line">.main-inner &#123;</span><br><span class="line">    margin-top: 60px;</span><br><span class="line">    padding: 60px 60px 60px 60px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    opacity: 0.8;</span><br><span class="line">    min-height: 500px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用-hexo-neat-进行压缩以增加页面速度">使用 hexo-neat 进行压缩以增加页面速度</h3>
<p>采用<code>hexo-neat</code>进行压缩，插件地址为：https://github.com/rozbo/hexo-neat，使用步骤为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#安装hexo-neat</span><br><span class="line">$ npm install hexo-neat --save</span><br></pre></td></tr></table></figure>
<p>添加配置到根目录下的<code>_config.yml</code>，在最后加上(这里跟别人的有一些改动，因为有一些配置出了问题，找了很久，但是还是没有解决，干脆就不折腾了):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line"># 博文压缩</span><br><span class="line">neat_enable: true</span><br><span class="line"># 压缩html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.html&#39;</span><br><span class="line"># 压缩css</span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.css&#39;</span><br><span class="line"># 压缩js</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#39;**&#x2F;*.min.js&#39;</span><br><span class="line">    - &#39;**&#x2F;jquery.fancybox.pack.js&#39;</span><br><span class="line">    - &#39;**&#x2F;index.js&#39;</span><br></pre></td></tr></table></figure>
<p>不用再做其他的改动，压缩前后的对比为：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2019/png/187932/1557751534763-6f377175-946d-4f32-bc8e-1cbaf76c4355.png#align=left&amp;display=inline&amp;height=179&amp;margin=%5Bobject%20Object%5D&amp;originHeight=179&amp;originWidth=717&amp;size=0&amp;status=done&amp;style=none&amp;width=717" alt=""></p>
<p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/187932/1557751534766-e8651cdc-63b9-40d7-979c-f796aabb328a.jpeg#align=left&amp;display=inline&amp;height=407&amp;margin=%5Bobject%20Object%5D&amp;originHeight=407&amp;originWidth=1117&amp;size=0&amp;status=done&amp;style=none&amp;width=1117" alt=""></p>
<h5 id="主页文章添加阴影效果">主页文章添加阴影效果</h5>
<h5 id="在网站底部加上访问量">在网站底部加上访问量</h5>
<h5 id="添加热度">添加热度</h5>
<h5 id="网站底部字数统计">网站底部字数统计</h5>
<h5 id="修改-代码块自定义样式">修改``代码块自定义样式</h5>
<p>打开<code>\themes\next\source\css\_custom\custom.styl</code>,向里面加入：(颜色可以自己定义):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Custom styles.</span><br><span class="line">code &#123;</span><br><span class="line">    color: #ff7600;</span><br><span class="line">    background: #fbf7f8;</span><br><span class="line">    margin: 2px;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 大代码块的自定义样式</span><br><span class="line">.highlight, pre &#123;</span><br><span class="line">    margin: 5px 0;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    border-radius: 3px;</span><br><span class="line">&#125;</span><br><span class="line">.highlight, code, pre &#123;</span><br><span class="line">    border: 1px solid #d6d6d6;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="添加访问量">添加访问量</h5>
<p>打开<code>\themes\next\layout\_partials\footer.swig</code>文件,搜索<code>&lt;div class=&quot;copyright&quot;&gt;</code>，在这个<code>div</code>标签前边加上如下代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async src&#x3D;&quot;https:&#x2F;&#x2F;dn-lbstatics.qbox.me&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>然后再在合适的位置添加如下代码，放在 footer.swig 文件的末尾:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;powered-by&quot;&gt;</span><br><span class="line">&lt;i class&#x3D;&quot;fa fa-user-md&quot;&gt;&lt;&#x2F;i&gt;&lt;span id&#x3D;&quot;busuanzi_container_site_uv&quot;&gt;</span><br><span class="line">  本站访客数:&lt;span id&#x3D;&quot;busuanzi_value_site_uv&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<h5 id="设置博文内链接为蓝色">设置博文内链接为蓝色</h5>
<p>通过路径：<code>themes\next\source\css\_common\components\post\</code>,打开<code>post.styl</code>文件，在文件中添加，如下字段：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.post-body p a&#123;</span><br><span class="line">      color: #0593d3;</span><br><span class="line">      border-bottom: none;</span><br><span class="line">      &amp;:hover &#123;</span><br><span class="line">        color: #0477ab;</span><br><span class="line">        text-decoration: underline;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="设置文章末尾-本文结束-标记">设置文章末尾”本文结束”标记</h5>
<h5 id="显示每篇文章字数">显示每篇文章字数</h5>
<h5 id="文章末尾添加版权说明">文章末尾添加版权说明</h5>
<p>直接修改<code>主题配置文件</code>，定位到<code>post_copyright</code>，将<code>enable</code>由<code>false</code>改为<code>true</code>即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Declare license on posts</span><br><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  license: CC BY-NC-SA 3.0</span><br><span class="line">  license_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;3.0&#x2F;</span><br></pre></td></tr></table></figure>
<h5 id="实现-fork-me-on-github">实现 fork me on github</h5>
<p>在右上角或者左上角实现 fork me on github。
点击<a href="https://blog.github.com/2008-12-19-github-ribbons/" target="_blank" rel="noopener">这里</a>挑选自己喜欢的样式，并复制代码。 例如，我是复制如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;you&quot;&gt;&lt;img style&#x3D;&quot;position: absolute; top: 0; left: 0; border: 0;&quot; src&#x3D;&quot;https:&#x2F;&#x2F;s3.amazonaws.com&#x2F;github&#x2F;ribbons&#x2F;forkme_left_darkblue_121621.png&quot; alt&#x3D;&quot;Fork me on GitHub&quot;&gt;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
<p>粘贴刚才复制的代码到<code>themes/next/layout/_layout.swig</code>文件中(放在<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>的下面)，并把<code>href</code>标签改为 github 地址：</p>
<h5 id="修改文章底部的-号标签">修改文章底部的#号标签</h5>
<p>修改模板<code>/themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将其中的 <code>#</code>换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>
<h5 id="添加搜索功能">添加搜索功能</h5>
<p>安装 <code>hexo-generator-searchdb</code>，在站点的根目录下执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
<p>编辑 <code>站点配置文件</code> （站点根目录下），新增以下内容到任意位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>
<p>编辑 <code>主题配置文件</code> （主题目录下），启用本地搜索功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<h5 id="图床修改">图床修改</h5>
<p>由于以前都是直接使用的 github 私人仓库做的图床，但是有时候就是访问不到，因为博客是采用双部署的，可能 coding 上的已经是外链了被屏蔽了，所以还是得想点别的办法了。
看到网上说的各种，其实都还是有点问题，最终发现最近的腾讯对象存储，发现还真的可以。
软件名：picgo
链接：<a href="https://sspai.com/post/42310" target="_blank" rel="noopener">https://sspai.com/post/42310</a>
使用方法：<a href="https://github.com/Molunerfinn/PicGo/wiki/%E8%AF%A6%E7%BB%86%E7%AA%97%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8#v5%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">https://github.com/Molunerfinn/PicGo/wiki/详细窗口的使用#v5 版本说明</a></p>
<h5 id="next-主题个性化之自动更换背景图片">Next 主题个性化之自动更换背景图片</h5>
<p><a href="https://blog.csdn.net/mango_haoming/article/details/78473243" target="_blank" rel="noopener">https://blog.csdn.net/mango_haoming/article/details/78473243</a></p>
<h5 id="修改主题：yilia-已取消">修改主题：yilia（已取消）</h5>
<p><a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a></p>
<h5 id="2018-4-22-加入畅言评论-已取消">2018-4-22 加入畅言评论（已取消）</h5>
<p>详见：<a href="https://blog.csdn.net/lcyaiym/article/details/76762074" target="_blank" rel="noopener">https://blog.csdn.net/lcyaiym/article/details/76762074</a></p>
<h5 id="2018-4-10-加入豆瓣读书和电影">2018-4-10 加入豆瓣读书和电影</h5>
<p>详细见：<a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="noopener">https://github.com/mythsman/hexo-douban</a></p>
<h5 id="页面中文无法显示的问题">页面中文无法显示的问题</h5>
<p>这种中文问题，基本上都是编码的问题，但是开始各种都没找到原因，改了 language 里面的配置文件，最后发现是文件的编码，需要改成’无 bom 的 utf-8 的编码格式 ’</p>
<h5 id="主界面无法显示-categories-和-tags-的问题">主界面无法显示 categories 和 tags 的问题</h5>
<p>这个问题真的是搞的有点久，因为基本上都被人忽略了，也可能很多人都没遇到而我恰好遇到了吧，不懂前端的我只能对于这种玄学问题强行百度了。
解决办法：将 categories 和 tags 目录下的 index 文件分别改成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">layout: &quot;categories&quot;</span><br><span class="line">tags:</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">layout: &quot;tags&quot;</span><br></pre></td></tr></table></figure>
<p>折腾完又不早了，希望以后好好看书，好好编程吧，最近没有什么特别大的梦想，只想安静的学习。。。</p>
<h5 id="绑定-gitpages-到自己的域名">绑定 gitpages 到自己的域名</h5>
<p>打开<a href="https://education.github.com/" target="_blank" rel="noopener">学生包</a>，通过教育邮箱申请之后，可以在 package 中找到那么 namecheap，注册通过 GitHub 进入，可以直接申请域名，会自动绑定到我们的 gitpage，不过还需要一点点修改，就是把 cname 的 www 改成我们的 gitpage 页面，就可以了。。</p>
<h5 id="采用-coding-和-gitpages-双部署">采用 coding 和 gitpages 双部署</h5>
<p>采用双部署的原因是国内访问 github 的速度有时候太感人了，有些人直接打不开，搞得有点尴尬，于是看到了网上所说的双部署，将默认的国内地址解析到 coding 的 pages 服务上，其他的绑定到 gitpage 上，这样国内的访问速度就快了。
具体的 coding pages 的搭建就不写了，在 coding 网站中建好仓库后，在我们本地的 config 文件后面的 push repository 加上 coding page 仓库的地址就可以了。
具体的 cname 记录和 A 记录如下图：</p>
<p>** Reference: **
<a href="https://tding.top/archives/12c6c559.html" target="_blank" rel="noopener">域名操作</a>
<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo 文档</a>
<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">Next 主题文档</a>
<a href="http://blog.csdn.net/dengnanyi/article/details/53969684" target="_blank" rel="noopener">绑定到 coding</a>
<a href="https://zhuanlan.zhihu.com/p/33616481" target="_blank" rel="noopener">Hexo 搭建的 GitHub 博客之优化大全</a>
<a href="https://wafer.li/Hexo/%E8%A7%A3%E5%86%B3%20Travis%20CI%20%E6%80%BB%E6%98%AF%E6%9B%B4%E6%96%B0%E6%97%A7%E5%8D%9A%E5%AE%A2%E7%9A%84%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">解决 Travis CI 总是更新旧博客的问题</a>
<a href="http://www.tianguolangzi.com/2018/01/17/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">修改背景图片</a>
<a href="https://xyzardq.github.io/2016/11/02/Hexo%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">Hexo 添加分类</a>
<a href="https://segmentfault.com/a/1190000017797561" target="_blank" rel="noopener">云端写作，自动部署</a>
<a href="https://luan.ma/post/yuque2blog/" target="_blank" rel="noopener">静态博客使用语雀编辑器</a></p>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://www.yuguocong.cn">mianhk</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://www.yuguocong.cn/2019/08/13/yuque/Hexo%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/">http://www.yuguocong.cn/2019/08/13/yuque/Hexo%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a>
            <a href="/tags/Hexo/">Hexo</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2019/09/12/yuque/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(3)/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">go语言基础学习(3)</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2019/07/04/yuque/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(4)/">
        <span class="next-text nav-default">go语言基础学习(4)</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:gcyu25@gmail.com" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/mianhk" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2021<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">mianhk</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
