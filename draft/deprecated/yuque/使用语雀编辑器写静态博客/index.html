<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title> 使用语雀编辑器写静态博客 - mianhk's notes</title><meta name=Description content><meta property="og:title" content=" 使用语雀编辑器写静态博客"><meta property="og:description" content="
本来以为已经是最后一次折腾了，但是总是生活不停，折腾不止，觉得本地文件管起来还是有点麻烦，看到语雀 markdown 又做的这么好，前几天还准备拿它当云笔记用，但是据说底层存的都是 md 格式，有的时候又还是不太方便，不过做编辑器来说确实很爽了，自带图床，还有 github 上开源的一个接口。
"><meta property="og:type" content="article"><meta property="og:url" content="http://yuguocong.cn/draft/deprecated/yuque/%E4%BD%BF%E7%94%A8%E8%AF%AD%E9%9B%80%E7%BC%96%E8%BE%91%E5%99%A8%E5%86%99%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"><meta property="article:section" content="draft"><meta property="article:published_time" content="2018-11-14T22:27:10+08:00"><meta property="article:modified_time" content="2018-11-14T22:27:10+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content=" 使用语雀编辑器写静态博客"><meta name=twitter:description content="
本来以为已经是最后一次折腾了，但是总是生活不停，折腾不止，觉得本地文件管起来还是有点麻烦，看到语雀 markdown 又做的这么好，前几天还准备拿它当云笔记用，但是据说底层存的都是 md 格式，有的时候又还是不太方便，不过做编辑器来说确实很爽了，自带图床，还有 github 上开源的一个接口。
"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://yuguocong.cn/draft/deprecated/yuque/%E4%BD%BF%E7%94%A8%E8%AF%AD%E9%9B%80%E7%BC%96%E8%BE%91%E5%99%A8%E5%86%99%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/><link rel=prev href=http://yuguocong.cn/draft/go-concurrent/><link rel=next href=http://yuguocong.cn/draft/mysql_errs/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":" 使用语雀编辑器写静态博客","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/yuguocong.cn\/draft\/deprecated\/yuque\/%E4%BD%BF%E7%94%A8%E8%AF%AD%E9%9B%80%E7%BC%96%E8%BE%91%E5%99%A8%E5%86%99%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2\/"},"genre":"draft","keywords":"Hexo, 折腾, 语雀","wordcount":1126,"url":"http:\/\/yuguocong.cn\/draft\/deprecated\/yuque\/%E4%BD%BF%E7%94%A8%E8%AF%AD%E9%9B%80%E7%BC%96%E8%BE%91%E5%99%A8%E5%86%99%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2\/","datePublished":"2018-11-14T22:27:10+08:00","dateModified":"2018-11-14T22:27:10+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"mianhk"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":""==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:""==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="mianhk's notes">mianhk's notes</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>主页 </a><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="mianhk's notes">mianhk's notes</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>主页</a><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page single special"><h1 class="single-title animated pulse faster"> 使用语雀编辑器写静态博客</h1><div class=content id=content><blockquote><p>本来以为已经是最后一次折腾了，但是总是生活不停，折腾不止，觉得本地文件管起来还是有点麻烦，看到语雀 markdown 又做的这么好，前几天还准备拿它当云笔记用，但是据说底层存的都是 md 格式，有的时候又还是不太方便，不过做编辑器来说确实很爽了，自带图床，还有 github 上开源的一个接口。</p></blockquote><h1 id=准备工作>准备工作</h1><h2 id=更新-nodejs-和-npm>更新 node.js 和 npm</h2><p>刚刚来就是坑，不过还是准备从正常的步骤开始说吧，就是博客基于的是 nodejs，很多包的安装都是采用 npm 统一管理的，因为有些插件需要使用新的版本，所以需要先更新一下，这里只说一下 windows 下面的操作。</p><h3 id=更新-nodejs>更新 node.js</h3><p>window 下并没有网上说的乱七八糟的命令行更新方式，直接在<a href=http://nodejs.cn/ target=_blank rel="noopener noreffer">官网</a>下载最新的安装包就可以。然后安装在之前的位置进行覆盖就可以更新了。更新之后通过命令:</p><pre tabindex=0><code class=language-git data-lang=git>$node -v
v10.13.0
</code></pre><h3 id=更新-npm>更新 npm</h3><p>通过命令：</p><pre tabindex=0><code class=language-git data-lang=git>$npm install -g npm

#更新后的版本可以看到
$npm -v
6.4.1
</code></pre><h3 id=更新包>更新包</h3><p>可以使用命令查看可以更新的包:</p><pre tabindex=0><code class=language-git data-lang=git>$npm outdated         #查看需要更新的包：
Package                 Current  Wanted  Latest  Location
hexo-helper-live2d      MISSING   3.1.0   3.1.0  hexo-site
hexo                      3.3.9   3.8.0   3.8.0  hexo-site
hexo-douban              0.2.14  0.2.16   1.0.6  hexo-site
hexo-generator-archive    0.1.4   0.1.5   0.1.5  hexo-site
hexo-generator-search     2.2.5   2.3.0   2.3.0  hexo-site
hexo-renderer-ejs         0.2.0   0.2.0   0.3.1  hexo-site
hexo-renderer-marked     0.2.11  0.2.11   0.3.2  hexo-site
hexo-server               0.2.2   0.2.2   0.3.3  hexo-site
$npm install --save  #
</code></pre><p>之后修改<code>package.json</code>文件，修改到对应的版本。然后执行命令，进行更新：</p><pre tabindex=0><code>$npm install --save
</code></pre><h2 id=安装语雀文章下载插件>安装语雀文章下载插件</h2><p>首先这里鸣谢开源的插件：[<a href=https://github.com/x-cold/yuque-hexo target=_blank rel="noopener noreffer">yuque-hexo</a>](<a href=https://github.com/x-cold/yuque-hexo target=_blank rel="noopener noreffer">https://github.com/x-cold/yuque-hexo</a>)，通过工具可以将语雀知识库中的文件同步到本地，大部分功能和步骤在仓库中都有些，但是自己做的时候还是踩了坑，这里就还是写一下吧。</p><h3 id=1创建语雀知识库>1.创建语雀知识库</h3><p>打开<a href=https://www.yuque.com/ target=_blank rel="noopener noreffer">语雀</a> 创建自己的博客知识库，并且要<strong>设置成公开的。可以在设置中看到链接如下：</strong>
<img class=lazyload src=/svg/loading.min.svg data-src="https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375" data-srcset="https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375, https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375 1.5x, https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375 2x" data-sizes=auto alt="https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375" title="https://cdn.nlark.com/yuque/0/2018/png/187932/1542204775155-271c9311-4643-4ccd-8692-24ab7351e0cb.png#width=375">
同时打开<a href=https://www.yuque.com/mianhk/gaqqwc target=_blank rel="noopener noreffer">blog 知识库</a>:<a href=https://www.yuque.com/mianhk/gaqqwc target=_blank rel="noopener noreffer">https://www.yuque.com/mianhk/gaqqwc</a>可以打开知识库。</p><h3 id=2在本地安装-yuque-hexo>2.在本地安装 yuque-hexo</h3><pre tabindex=0><code class=language-git data-lang=git>npm i -g yuque-hexo
</code></pre><h3 id=3配置-packagejson>3.配置 package.json</h3><pre tabindex=0><code>  &#34;scripts&#34;: {
    &#34;clean&#34;: &#34;npm run clean:yuque &amp;&amp; hexo clean&#34;,
    &#34;clean:yuque&#34;: &#34;DEBUG=yuque-hexo.* yuque-hexo clean&#34;,
    &#34;deploy&#34;: &#34;hexo deploy&#34;,
    &#34;publish&#34;: &#34;npm run clean &amp;&amp; npm run deploy&#34;,
    &#34;dev&#34;: &#34;hexo s&#34;,
    &#34;sync&#34;: &#34;DEBUG=yuque-hexo.* yuque-hexo sync&#34;,
    &#34;reset&#34;: &#34;npm run clean:yuque &amp;&amp; npm run sync&#34;
  }, 
  &#34;yuqueConfig&#34;: {
    &#34;baseUrl&#34;: &#34;https://www.yuque.com/api/v2&#34;,    #这是语雀的永久链接，直接复制就可以
    &#34;login&#34;: &#34;mianhk&#34;,                      #用户名，上个链接的第一个下划线
    &#34;repo&#34;: &#34;gaqqwc&#34;,                      #知识库链接，第二个下划线
    &#34;mdNameFormat&#34;: &#34;slug&#34;,               #导出本地的文件名为随机的数字，比直接的中文title要好看，
                                                可以直接用了
    &#34;postPath&#34;: &#34;source/_posts/yuque&#34;     #存在本地文件夹的位置
  }
</code></pre><h3 id=4删除和同步文章>4.删除和同步文章</h3><pre tabindex=0><code>#删除文章
$yuque-clean
[INFO] yuque-hexo clean start.
[INFO] remove yuque posts: F:\blog\mianhk.github.io\source\_posts\yuque\
[INFO] remove yuque local file: F:\blog\mianhk.github.io\yuque.json
[INFO] yuque-hexo clean finished.

#同步文章
$yuque-hexo sync
[INFO] yuque-hexo sync start.
[INFO] remove yuque posts: F:\blog\mianhk.github.io\source\_posts\yuque\
[INFO] loading config: F:\blog\mianhk.github.io\package.json
[INFO] downloading articles: {&#34;baseUrl&#34;:&#34;https://www.yuque.com/api/v2&#34;,&#34;login&#34;:&#34;mianhk&#34;,&#34;repo&#34;:&#34;gaqqwc&#34;,&#34;mdNameFormat&#34;:&#34;slug&#34;,&#34;postPath&#34;:&#34;source/_posts/yuque&#34;}
[INFO] reading from local file: F:\blog\mianhk.github.io\yuque.json
[INFO] download article body: 11月生活小结
[INFO] download articls done!
[INFO] writing to local file: F:\blog\mianhk.github.io\yuque.json
[INFO] create posts director (if it not exists): F:\blog\mianhk.github.io\source\_posts\yuque
[INFO] generate post file: F:\blog\mianhk.github.io\source\_posts\yuque\xzxhcv.md
[INFO] yuque-hexo sync finished.
</code></pre><h3 id=5修改文章的-title-和-tag-等>5.修改文章的 title 和 tag 等</h3><p>还是跟之前的格式直接写即可。</p><pre tabindex=0><code class=language-makedown data-lang=makedown>title:
date:
update:
categories:
tags: []
</code></pre><h3 id=6部署博客>6.部署博客</h3><h1 id=记录一些坑>记录一些坑</h1><ul><li><p>知识库一定要是公开的</p></li><li><p>windows 下更新 nodejs 不能用 n，即使强制使用了也还是无法更新</p></li><li><p>新版本的 npm。如果改了 package.json，且 package.json 和 lock 文件不同，那么执行<code>npm i</code>时 npm 会根据 package 中的版本号以及语义含义去下载最新的包，并更新至 lock。</p></li></ul><h2 id=reference>Reference:</h2><ul><li><p><a href=https://github.com/x-cold/yuque-hexo target=_blank rel="noopener noreffer">https://github.com/x-cold/yuque-hexo</a></p></li><li><p><a href=https://luan.ma/post/yuque2blog/ target=_blank rel="noopener noreffer">https://luan.ma/post/yuque2blog/</a></p></li><li><p><a href=https://www.zhihu.com/question/62331583 target=_blank rel="noopener noreffer">https://www.zhihu.com/question/62331583</a></p></li><li><p><a href=https://tommy.net.cn/2018/02/26/upgrade-hexo-to-v3-5-0/ target=_blank rel="noopener noreffer">将 Hexo 升级到 v3.5.0</a></p></li><li><p><a href=https://github.com/x-cold/blog/blob/master/package.json#L26 target=_blank rel="noopener noreffer">Demo Json</a></p></li></ul><p><a href=https://segmentfault.com/a/1190000017797561 target=_blank rel="noopener noreffer">https://segmentfault.com/a/1190000017797561</a>
<a href=https://lkc.im/archives/1d99.html target=_blank rel="noopener noreffer">https://lkc.im/archives/1d99.html</a>
<a href=https://x-d.xyz/2019/04/02/yuque/Hexo%E5%8D%9A%E5%AE%A2%E4%BA%91%E7%AB%AF%E5%86%99%E4%BD%9C%EF%BC%8C%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2/ target=_blank rel="noopener noreffer">https://x-d.xyz/2019/04/02/yuque/Hexo%E5%8D%9A%E5%AE%A2%E4%BA%91%E7%AB%AF%E5%86%99%E4%BD%9C%EF%BC%8C%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2/</a></p></div></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.107.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/mianhk target=_blank>mianhk</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>