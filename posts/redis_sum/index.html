<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>《redis 设计与实现》--总结 - mianhk's notes</title><meta name=Description content><meta property="og:title" content="《redis 设计与实现》--总结"><meta property="og:description" content="
Redis设计与实现，以及关于Redis使用的总结
"><meta property="og:type" content="article"><meta property="og:url" content="http://yuguocong.cn/posts/redis_sum/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-06-19T18:50:41+08:00"><meta property="article:modified_time" content="2018-06-19T18:50:41+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="《redis 设计与实现》--总结"><meta name=twitter:description content="
Redis设计与实现，以及关于Redis使用的总结
"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://yuguocong.cn/posts/redis_sum/><link rel=prev href=http://yuguocong.cn/posts/shell_autopush/><link rel=next href=http://yuguocong.cn/posts/re_sword_to_offer/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"《redis 设计与实现》--总结","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/yuguocong.cn\/posts\/redis_sum\/"},"genre":"posts","keywords":"Linux, 后台开发, Redis, Nosql","wordcount":4920,"url":"http:\/\/yuguocong.cn\/posts\/redis_sum\/","datePublished":"2018-06-19T18:50:41+08:00","dateModified":"2018-06-19T18:50:41+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"mianhk"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":""==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:""==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="mianhk's notes">mianhk's notes</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>主页 </a><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="mianhk's notes">mianhk's notes</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>主页</a><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">《redis 设计与实现》--总结</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/mianhk title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>mianhk</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/other/><i class="far fa-folder fa-fw"></i>other</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-06-19>2018-06-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 4920 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 10 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1数据结构与对象>1.数据结构与对象</a><ul><li><a href=#1简单动态字符串>1.简单动态字符串</a></li><li><a href=#2链表>2.链表</a></li><li><a href=#3字典>3.字典</a></li><li><a href=#4跳跃表>4.跳跃表</a></li><li><a href=#5整数集合>5.整数集合</a></li><li><a href=#6压缩列表>6.压缩列表</a></li><li><a href=#7对象>7.对象</a></li></ul></li><li><a href=#2单机数据库的实现>2.单机数据库的实现</a><ul><li><a href=#数据库>数据库</a></li><li><a href=#rdb持久化>RDB持久化</a></li><li><a href=#aof持久化append-only-file>AOF持久化(Append Only File)</a></li><li><a href=#事件>事件</a></li></ul></li><li><a href=#3多机数据库的实现>3.多机数据库的实现</a></li><li><a href=#4独立功能的实现>4.独立功能的实现</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#aof和rdb比较>AOF和RDB比较</a></li><li><a href=#redis分布式锁>Redis分布式锁</a></li><li><a href=#寻找key>寻找key</a></li><li><a href=#redis同步机制>Redis同步机制</a></li><li><a href=#redis相比memcached有哪些优势>redis相比memcached有哪些优势</a></li><li><a href=#redis的lru算法>Redis的LRU算法</a></li><li><a href=#redis常见的性能问题及解决>Redis常见的性能问题及解决</a></li><li><a href=#适合redis的场景>适合Redis的场景</a></li><li><a href=#nosql和key-value数据库>Nosql和Key-Value数据库</a></li><li><a href=#redis最大连接数>Redis最大连接数</a></li><li><a href=#redis的瓶颈>redis的瓶颈</a></li><li><a href=#redis-主从复制>Redis 主从复制</a></li><li><a href=#redis的定时机制怎么实现的有哪些弊端你将如何改进这个弊端>Redis的定时机制怎么实现的，有哪些弊端，你将如何改进这个弊端</a></li><li><a href=#redis是单线程的为什么这么高效我用了对比的方式说举例apache和nginx一个多线程一个io多路复用>Redis是单线程的，为什么这么高效。我用了对比的方式说，举例Apache和Nginx，一个多线程，一个IO多路复用</a></li><li><a href=#redis的数据类型有哪些底层怎么实现跳跃表哈希表整数集合等等>Redis的数据类型有哪些，底层怎么实现，跳跃表，哈希表，整数集合等等</a></li><li><a href=#redis的rehash怎么做的为什么要渐进rehash渐进rehash怎么实现的>Redis的rehash怎么做的，为什么要渐进rehash，渐进rehash怎么实现的</a></li><li><a href=#redis和memcached的区别redis为什么可以组集群>Redis和memcached的区别，Redis为什么可以组集群</a></li></ul></li><li><a href=#reference>Reference：</a></li></ul></nav></div></div><div class=content id=content><blockquote><p>Redis设计与实现，以及关于Redis使用的总结</p></blockquote><h2 id=1数据结构与对象>1.数据结构与对象</h2><h3 id=1简单动态字符串>1.简单动态字符串</h3><p>Redis自己构建了简单动态字符串(Simple Dynamic String,SDS)来作为默认的字符串表示。<br>SDS的构造如下：
优势是：</p><ol><li>能够在常数时间内获取字符串的长度-通过len属性</li><li>能够杜绝缓冲区溢出：记录了缓冲区的大小，在长度不够时，能够自动扩展空间</li><li>减少修改字符串时带来的内存重新分配次数：采用空间预分配和惰性空间释放</li></ol><h3 id=2链表>2.链表</h3><p>Redis自己实现了链表。拥有以下特性：双端无环、带表头指针和表尾指针、带链表长度计数器、多态(使用void* 保存节点值)</p><h3 id=3字典>3.字典</h3><p>Redis字典底层采用哈希表实现。采用MurmurHash2算法，解决键冲突的方式是：链地址法。<br>哈希表的扩展与收缩：以下条件满足时：</p><ol><li>服务器没有执行BGSAVE或BGREWRITEAOF命令，哈希表负载因子>1</li><li>服务器在执行BGSAVE或BGREWRITEAOF命令，哈希表负载因子>5</li></ol><h3 id=4跳跃表>4.跳跃表</h3><p>Redis采用跳跃表作为有序集合键的底层数据结构，另：在集群节点中用作内部数据结构<br>跳跃表：一种有序数据结构，通过在一个节点维持多个指向其他节点的指针，从而达到快速访问节点的目的。支持平均O(logN),最差O(N)复杂度的查找。
Redis中跳跃表的实现：</p><h3 id=5整数集合>5.整数集合</h3><p>Redis中集合键的底层实现之一，当一个集合只包含整数值元素，并且这个集合中元素的数量不多时，就会使用整数集合作为集合键的底层实现。<br>整数集合的升级策略：能够提高整数集合的灵活性，并且能够尽可能的节约内存。升级后不支持降级</p><h3 id=6压缩列表>6.压缩列表</h3><p>Redis中列表键和哈希键的底层实现之一。</p><h3 id=7对象>7.对象</h3><p>Redis使用上述的数据结构创建了一个对象系统。包括：字符串对象、列表对象、哈希对象、集合对象和有序集合对象。其实这就是一直说的Redis五种数据结构：字符串、列表、字典、集合、有序集合。</p><h2 id=2单机数据库的实现>2.单机数据库的实现</h2><h3 id=数据库>数据库</h3><p>Redis服务器讲所有数据库保存在一个db数组中，默认创建16个数据库。<br>切换数据库:<code>select 0 #选择0号数据库</code></p><h4 id=数据库键空间>数据库键空间</h4><p>键空间的键也是数据库的键。每个键都是一个字符串对象。<br>键空间的值也是数据库的值，每个值可以是字符串对象、列表对象、哈希对象、集合对象，有序集合对象中的任意一个Redis对象。<br>一个键空间的例子：</p><h4 id=设置键的生存时间或过期时间>设置键的生存时间或过期时间</h4><p>原理是：过期时间是一个UNIX时间戳，当键的过期时间来临是，服务器就会自动从数据库中删除一个键。<br>命令:</p><pre tabindex=0><code>expire &lt;key&gt; &lt;ttl&gt;  #key的生存时间为ttl秒
pexpire &lt;key&gt; &lt;ttl&gt;  #key的生存时间为ttl毫秒
expireat &lt;key&gt; &lt;timestamp&gt;  #key的生存时间直到timestamp指定的时间戳s
pexpireat &lt;key&gt; &lt;timestamp&gt;  #key的生存时间直到timestamp指定的时间戳ms

persist &lt;key&gt;  #移除key的过期时间
ttl &lt;key&gt;   #计算key的剩余生存时间
</code></pre><p>setex命令可以设置一个字符串键的同时为键设置过期时间。
一个带有过期字典的数据库例子：（实际中，键空间的键和过期字典中的键都指向同一个键对象）</p><h4 id=过期键删除策略>过期键删除策略</h4><ul><li>定时删除： 内存最友好，CPU时间最不友好</li><li>惰性删除：CPU时间友好，内存不友好</li><li>定期删除：折中
Redis实际使用：惰性删除和定期删除配合使用。</li></ul><h4 id=过期键的处理>过期键的处理</h4><ol><li>RDB文件：
生成RDB文件：已过期的键不会保存到新创建的RDB文件中，因此对生成新的RDB文件没有影响。
载入RDB文件：主服务器模式时，过期键不会被载入。从服务器模式时，都会被载入，但同步后，从服务器数据会被清空，所以也没有影响。</li><li>AOF文件：
AOF写入：如果某个键已经过期，但没有被删除，AOF文件不会因为这个过期键产生任何影响。如果已经删除，AOF文件会追加一条DEL命令显式记录该键已被删除。<br>AOF重写：已过期的键不会被保存到重写的AOF文件。</li><li>复制：<br>主服务器删除一个过期键，会显示向所有的从服务器发送DEL命令，告知删除。<br>从服务器遇到过期的键也不会删除。只有接收到DEL命令后才会删除过期键。</li></ol><h3 id=rdb持久化>RDB持久化</h3><p>通过保存数据库中的键值对来记录数据库状态不同。<br>功能：将Redis在内存中的数据库状态保存到磁盘中，避免数据意外丢失。RDB文件是一个经过压缩的二进制文件，保存在硬盘中，因此Redis进程退出，只要RDB文件仍在，就可以用来还原数据库的状态。</p><h4 id=rdb文件的创建和载入>RDB文件的创建和载入</h4><p>服务器在载入RDB文件期间，会一直阻塞。<br>SAVE命令由服务器进程执行保存工作，因此会阻塞服务器。BGSAVE命令由子进程执行保存工作。</p><h4 id=自动间隔性保存>自动间隔性保存</h4><p>设置服务器配置的save选项，让服务器每隔一段时间自动执行一次BGSAVE命令。</p><pre tabindex=0><code>save 900 1  # 900s内发生了至少一次修改
save 300 10
save 60 10000
满足上述一个条件，BASAVE就会执行。
</code></pre><h4 id=rdb文件结构>RDB文件结构</h4><table><thead><tr><th style=text-align:center>头部</th><th style=text-align:center>数据库版本</th><th style=text-align:center>数据</th><th style=text-align:center>正文结束符</th><th style=text-align:center>校验和</th></tr></thead><tbody><tr><td style=text-align:center>REDIS</td><td style=text-align:center>db_version</td><td style=text-align:center>databases</td><td style=text-align:center>EOF</td><td style=text-align:center>check_sum</td></tr></tbody></table><h3 id=aof持久化append-only-file>AOF持久化(Append Only File)</h3><p>通过保存Redis服务器所执行的写命令来记录数据库状态。</p><h4 id=aof持久化的实现过程>AOF持久化的实现过程</h4><p>命令追加:将内容追加到aof_buf缓冲区的末尾。<br>写入与同步：服务器每次结束一个时间循环之前，都会调用flushAppendOnlyFile函数，考虑是否将aof_buf缓冲区中的内容写入和保存到AOF文件中。选项值为：alwals,everysec,no<br>载入与数据还原：还原过程：创建一个不带网络连接的伪客户端；从AOF文件中分析并读取一条写命令；使用伪客户端执行被读出的写命令；循环处理。</p><h4 id=aof重写>AOF重写</h4><p>目的：解决AOF文件体积膨胀。<br>实现原理：从数据库中读取键现在的值，然后用一条命令去记录键值对，代替之前记录这个键值对的多条命令。
后台重写：子进程AOF重写期间，服务器进程可以继续处理命令请求。<br>后台重写问题：子进程重写期间，服务器还需要处理命令请求，可能导致服务器当前数据库状态和重写后的AOF文件所保存的数据库状态不一致。解决办法：AOF重写缓冲区。</p><h3 id=事件>事件</h3><h4 id=文件事件>文件事件</h4><p>文件事件处理器。基于Reactor模式，使用IO多路复用程序同时监听多个套接字。</p><h2 id=3多机数据库的实现>3.多机数据库的实现</h2><h2 id=4独立功能的实现>4.独立功能的实现</h2><h2 id=常见问题>常见问题</h2><h3 id=aof和rdb比较>AOF和RDB比较</h3><ul><li>两者区别：RDB持久化是指在指定的时间间隔内将内存中的数据集快照写入磁盘，实际操作过程是fork一个子进程，先将数据集写入临时文件，写入成功后，再替换之前的文件，用二进制压缩存储。AOF持久化以日志的形式记录服务器所处理的每一个写、删除操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录。</li><li>优缺点：RDB：灵活设置备份频率和周期。方便灾难恢复，可以轻松的将一个单独的文件压缩再转移到其他存储介质上。性能最大化。数据集很大时，启动效率相对AOF较高。缺点：很难保证高可用，可能数据在写入磁盘之前会丢失。数据集较大时，可能导致服务器停止服务。<br>AOF：数据持久性。对日志的写入操作采用的是append模式，写入过程即使出现宕机，也不会破坏日志文件中已经存在的内容。如果日志过大，Redis可以自动启用rewrite机制。包含一个格式清晰、易于理解的日志文件用于记录所有的修改操作。缺点：RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。根据同步策略的不同，AOF在运行效率上往往会慢于RDB。</li></ul><h3 id=redis分布式锁>Redis分布式锁</h3><p>使用setnx来争抢锁，抢到之后，再用expire给锁加一个过期时间防止锁忘记了释放。<br>如果在setnx之后执行expire之前进程意外crash或者要重启维护了，那会怎么样？<br>同时把setnx和expire合成一条指令来用</p><h3 id=寻找key>寻找key</h3><p>假如Redis里面有1亿个key，其中有10w个key是以某个固定的已知的前缀开头的，如果将它们全部找出来？<br>用keys指令可以扫出指定模式的key列表。<br>redis的单线程的。keys指令会导致线程阻塞一段时间，线上服务会停顿，直到指令执行完毕，服务才能恢复。这个时候可以使用scan指令，scan指令可以无阻塞的提取出指定模式的key列表，但是会有一定的重复概率，在客户端做一次去重就可以了，但是整体所花费的时间会比直接用keys指令长。</p><h3 id=redis同步机制>Redis同步机制</h3><p>Redis可以使用主从同步，从从同步。第一次同步时，主节点做一次bgsave，并同时将后续修改操作记录到内存buffer，待完成后将rdb文件全量同步到复制节点，复制节点接受完成后将rdb镜像加载到内存。加载完成后，再通知主节点将期间修改的操作记录同步到复制节点进行重放就完成了同步过程。</p><h3 id=redis相比memcached有哪些优势>redis相比memcached有哪些优势</h3><ol><li>丰富的数据类型</li><li>速度快</li><li>可以持久化<br>区别：</li><li>存储方式：Memecache把数据全部存在内存之中，断电后会挂掉，数据不能超过内存大小。Redis有部份存在硬盘上，这样能保证数据的持久性。</li><li>数据类型：Memcache对数据类型支持相对简单。Redis有复杂的数据类型,Redis不仅仅支持简单的k/v类型的数据，同时还提供list，set，zset，hash等数据结构的存储。</li><li>底层模型：它们之间底层实现方式以及与客户端之间通信的应用协议不一样。Redis直接自己构建了VM 机制，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求。</li><li>value大小：redis最大可以达到1GB，而memcache只有1MB。</li><li>Redis支持数据的备份，即master-slave模式的数据备份。</li></ol><h3 id=redis的lru算法>Redis的LRU算法</h3><p>最近最久未用算法。当内存达到限制时，Redis 具体的回收策略是通过 maxmemory-policy 配置项配置的。<br>no-eviction：不清除数据，只是返回错误，这样会导致浪费掉更多的内存，对大多数写命令（DEL 命令和其他的少数命令例外）
allkeys-lru：从所有的数据集（server.db[i].dict）中挑选最近最少使用的数据淘汰，以供新数据使用
volatile-lru：从已设置过期时间的数据集（server.db[i].expires）中挑选最近最少使用的数据淘汰，以供新数据使用
allkeys-random：从所有数据集（server.db[i].dict）中任意选择数据淘汰，以供新数据使用
volatile-random：从已设置过期时间的数据集（server.db[i].expires）中任意选择数据淘汰，以供新数据使用
volatile-ttl：从已设置过期时间的数据集（server.db[i].expires）中挑选将要过期的数据淘汰，以供新数据使用</p><h3 id=redis常见的性能问题及解决>Redis常见的性能问题及解决</h3><ol><li>Master最好不要做任何持久化工作，如RDB内存快照和AOF日志文件. 特别是不要启用内存快照做持久化,如果数据比较关键，某个Slave开启AOF备份数据，策略为每秒同步一次。</li><li>尽量避免在压力很大的主库上增加从库。</li><li>Master调用BGREWRITEAOF重写AOF文件，AOF在重写的时候会占大量的CPU和内存资源，导致服务load过高，出现短暂服务暂停现象。</li><li>Redis主从复制的性能问题，为了主从复制的速度和连接的稳定性，Slave和Master最好在同一个局域网内</li></ol><h3 id=适合redis的场景>适合Redis的场景</h3><ol><li>会话缓存 全页缓存 队列 排行榜/计数器 发布/订阅 会话 购物车</li></ol><h3 id=nosql和key-value数据库>Nosql和Key-Value数据库</h3><p>NoSQL，泛指非关系型的数据库，全称Not Only SQL，意即“不仅仅是SQL”。<br>NoSQL数据库的四大家族：</p><ol><li>键值（Key-Value）数据库:Redis、Memcached</li><li>面向文档（Document-Oriented）数据库:MongoDB 适用：日志、分析</li><li>列存储（Wide Column Store/Column-Family）数据库 HBase 适用:日志、博客平台</li><li>图（Graph-Oriented）数据库 适用：关系性强，推荐引擎</li></ol><h3 id=redis最大连接数>Redis最大连接数</h3><p>默认10000</p><h3 id=redis的瓶颈>redis的瓶颈</h3><h3 id=redis-主从复制>Redis 主从复制</h3><h4 id=redis-复制功能>Redis 复制功能</h4><h3 id=redis的定时机制怎么实现的有哪些弊端你将如何改进这个弊端>Redis的定时机制怎么实现的，有哪些弊端，你将如何改进这个弊端</h3><h3 id=redis是单线程的为什么这么高效我用了对比的方式说举例apache和nginx一个多线程一个io多路复用>Redis是单线程的，为什么这么高效。我用了对比的方式说，举例Apache和Nginx，一个多线程，一个IO多路复用</h3><h3 id=redis的数据类型有哪些底层怎么实现跳跃表哈希表整数集合等等>Redis的数据类型有哪些，底层怎么实现，跳跃表，哈希表，整数集合等等</h3><h3 id=redis的rehash怎么做的为什么要渐进rehash渐进rehash怎么实现的>Redis的rehash怎么做的，为什么要渐进rehash，渐进rehash怎么实现的</h3><h3 id=redis和memcached的区别redis为什么可以组集群>Redis和memcached的区别，Redis为什么可以组集群</h3><h2 id=reference>Reference：</h2><p><a href=https://www.bookstack.cn/read/note-of-interview/framework-redis.md target=_blank rel="noopener noreffer">https://www.bookstack.cn/read/note-of-interview/framework-redis.md</a><br><a href=http://www.techug.com/post/nosql.html target=_blank rel="noopener noreffer">http://www.techug.com/post/nosql.html</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2018-06-19</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=http://yuguocong.cn/posts/redis_sum/ data-title="《redis 设计与实现》--总结"><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=http://yuguocong.cn/posts/redis_sum/ data-title="《redis 设计与实现》--总结" data-ralateuid=https://weibo.com/u/3024507693><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=http://yuguocong.cn/posts/redis_sum/ data-title="《redis 设计与实现》--总结"><i class="fab fa-evernote fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/linux/>Linux</a>,&nbsp;<a href=/tags/%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/>后台开发</a>,&nbsp;<a href=/tags/redis/>Redis</a>,&nbsp;<a href=/tags/nosql/>Nosql</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/shell_autopush/ class=prev rel=prev title=ubuntu自动push到github脚本><i class="fas fa-angle-left fa-fw"></i>ubuntu自动push到github脚本</a>
<a href=/posts/re_sword_to_offer/ class=next rel=next title=剑指offer-刷题总结>剑指offer-刷题总结<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.107.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/mianhk target=_blank>mianhk</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>